# LouieAI – Python Client Library

[![CI](https://github.com/<owner>/louieai/actions/workflows/ci.yml/badge.svg)](https://github.com/<owner>/louieai/actions/workflows/ci.yml)
[![PyPI Version](https://img.shields.io/pypi/v/louieai.svg)](https://pypi.org/project/louieai/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)

**LouieAI** is an AI-driven investigative platform by [Graphistry](https://www.graphistry.com) that brings generative AI into data analysis. This repository contains the **Python client library** for LouieAI, allowing developers to send natural language prompts/queries to LouieAI and get results programmatically.

## Features
- **Easy Authentication**: Leverages PyGraphistry's authentication. Log in once with Graphistry, and LouieAI uses the same session.
- **Simple API**: Ask questions via the `LouieClient.ask(prompt)` method and receive answers or visualizations.
- **Robust Error Handling**: Detailed error messages for HTTP errors, network issues, and authentication problems.
- **Integration**: Responses can include Graphistry visualizations, database queries, and more as generated by LouieAI.

*This package is in early development (Alpha stage). Core functionality is minimal but the scaffold for expansion is in place.*

## Installation

Requires Python 3.11+ and an existing Graphistry account.

Install from PyPI:

Using uv (recommended):
```bash
uv pip install louieai
```

Using pip:
```bash
pip install louieai
```

(Until published, you can install from source:)

Using uv:
```bash
uv pip install git+https://github.com/<owner>/louieai.git
```

Using pip:
```bash
pip install git+https://github.com/<owner>/louieai.git
```

## Quick Start

```python
import graphistry
from louieai import LouieClient

# Authenticate to Graphistry (replace with your credentials or API token)
graphistry.register(api=3, username="your_user", password="your_pass")

client = LouieClient()
result = client.ask("Summarize the latest alerts in Splunk and graph the entities.")
print(result)
```

This will send your prompt to the LouieAI service. The result might be a JSON containing an answer or instructions (for example, a link to a Graphistry visualization).

## Error Handling

The client provides detailed error information to help with debugging:

```python
from louieai import LouieClient
import graphistry

try:
    graphistry.register(api=3, username="your_user", password="your_pass")
    client = LouieClient()
    result = client.ask("Your prompt here")
    print(result)
except RuntimeError as e:
    print(f"Error: {e}")
    # Error messages include:
    # - HTTP errors (4xx/5xx): Status code and API error message
    # - Network errors: Connection failure details
    # - Authentication errors: Missing Graphistry token guidance
```

## Current Limitations

- **API Endpoint**: Currently uses `/api/ask` endpoint based on common REST patterns. This is subject to confirmation when official Louie.ai API documentation becomes available.
- **Response Format**: Returns raw JSON responses. Future versions may include enhanced parsing and result handling.
- **Synchronous Only**: Currently supports synchronous requests only. Async support planned for future releases.

See the [documentation](https://louieai.readthedocs.io) for more details and examples.

## Testing

See the [Testing Guide](https://louieai.readthedocs.io/en/latest/development/#testing) for detailed testing instructions.

**Quick start:**
```bash
# Run unit tests
./scripts/pytest.sh

# Run integration tests (requires real Louie instance)
# Set credentials in .env file first
./scripts/pytest.sh tests/integration/
```

## API Reference

Complete API documentation is available at [louieai.readthedocs.io/api](https://louieai.readthedocs.io/en/latest/api/). Key classes:

- [`LouieClient`](https://louieai.readthedocs.io/en/latest/api/client/) - Main client class for interacting with Louie.ai

## Links

- [Louie.ai Homepage](https://louie.ai) – Learn about the LouieAI platform.
- [PyGraphistry Documentation](https://github.com/graphistry/pygraphistry) – Learn how to set up Graphistry, which is required for LouieAI.
- [Project Documentation](https://louieai.readthedocs.io) – Full documentation on ReadTheDocs.

## Testing

See [Testing Guide](https://louieai.readthedocs.io/en/latest/testing/) for details on running tests.

For unit tests (no credentials required):
```bash
pytest
```

For integration tests with a real Louie instance:
```bash
cp .env.example .env
# Edit .env with your credentials
pytest tests/integration/
```

## Contributing

Contributions are welcome! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines. We have a structured AI-involved development workflow – check out the AI planning template in `plans/` if you're interested in how we use AI to assist development.

This project adheres to a [Code of Conduct](CODE_OF_CONDUCT.md). By participating, you are expected to uphold this code.

## License

Licensed under the Apache 2.0 License. See [LICENSE](LICENSE) for details.

**Why Apache-2.0?** The Louie Python client is Apache-2.0 licensed to maximize adoption and make it easy to embed in Splunk apps, Jupyter notebooks, and internal tools. Contribute code with a simple Signed-off-by: line—no paperwork required. While the Louie server and cloud agents remain under our commercial license, this open client ensures seamless integration everywhere.